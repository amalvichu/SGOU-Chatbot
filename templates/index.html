{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="{% static 'js/chatbot.js' %}"></script>
    <script src="{% static 'js/sidebar-toggle.js' %}"></script>
</head>

<body>
    <section class="home">
        <div class="header">
            <div class="bot-name">NAME TO BE GIVEN</div>
            <span class="header-bord"></span>
            <div class="logo"></div>
        </div>
        <div class="hamburger-menu">
            <span class="material-icons">menu</span>
        </div>
        <div class="chat-container">
            <div class="sidebar">
                <div class="logo-container">
                    <img src="/static/images/sgoulogo.png" class="sidebar-logo">
                </div>
                <div class="tab active" data-tab="academics">Academics</div>
                <div class="tab" data-tab="certification">Contact Us</div>
                <!-- <div class="tab" data-tab="centers">Centers</div>
                <div class="tab" data-tab="learning-center">Learning Center</div> -->
                <div class="toggle-btn">
                    <span class="material-icons">close</span>
                </div>
            </div>
            <div class="chat-area">
                <div class="messages">
                    <!-- Bouncing Ball Animation Container -->
                    <div id="bouncingBallAnimation" class="bouncing-ball-container" style="display:none;">
                        <div class="ball"></div>
                        <div class="shadow"></div>
                    </div>
                </div>
                <div class="avatar-templates" style="display:none;">
                    <img id="academics-avatar" src="/static/images/character_logo.jpg" class="avatar rounded">
                    <img id="certification-avatar" src="/static/images/character_logo.jpg" class="avatar rounded">
                    <img id="centers-avatar" src="/static/images/character_logo.jpg" class="avatar rounded">
                    <img id="learning-center-avatar" src="/static/images/character_logo.jpg" class="avatar rounded">
                </div>
                <div class="suggestions-container">
                    <div class="suggestion" data-query="List all programs">List all programs</div>
                    <div class="suggestion" data-query="Our Regional Centers">Our Regional Centers</div>
                    <div class="suggestion" data-query="How long is the BA program?">How long is the BA program?</div>
                    <div class="suggestion" data-query="Tell me about certification courses">Tell me about certification
                        courses</div>
                    <div class="suggestion" data-query="centers">Centers</div>
                </div>
                <div class="input-area">
                    <input type="text" class="message-input" placeholder="Type your message here...">
                    <button class="send">
                        SEND
                        <div class="star-1">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            xml:space="preserve"
                            version="1.1"
                            style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
                            viewBox="0 0 784.11 815.53"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                          >
                            <defs></defs>
                            <g id="Layer_x0020_1">
                              <metadata id="CorelCorpID_0Corel-Layer"></metadata>
                              <path
                                class="fil0"
                                d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"
                              ></path>
                            </g>
                          </svg>
                        </div>
                        <div class="star-2">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            xml:space="preserve"
                            version="1.1"
                            style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
                            viewBox="0 0 784.11 815.53"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                          >
                            <defs></defs>
                            <g id="Layer_x0020_1">
                              <metadata id="CorelCorpID_0Corel-Layer"></metadata>
                              <path
                                class="fil0"
                                d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"
                              ></path>
                            </g>
                          </svg>
                        </div>
                        <div class="star-3">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            xml:space="preserve"
                            version="1.1"
                            style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
                            viewBox="0 0 784.11 815.53"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                          >
                            <defs></defs>
                            <g id="Layer_x0020_1">
                              <metadata id="CorelCorpID_0Corel-Layer"></metadata>
                              <path
                                class="fil0"
                                d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"
                              ></path>
                            </g>
                          </svg>
                        </div>
                        <div class="star-4">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            xml:space="preserve"
                            version="1.1"
                            style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
                            viewBox="0 0 784.11 815.53"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                          >
                            <defs></defs>
                            <g id="Layer_x0020_1">
                              <metadata id="CorelCorpID_0Corel-Layer"></metadata>
                              <path
                                class="fil0"
                                d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"
                              ></path>
                            </g>
                          </svg>
                        </div>
                        <div class="star-5">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            xml:space="preserve"
                            version="1.1"
                            style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
                            viewBox="0 0 784.11 815.53"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                          >
                            <defs></defs>
                            <g id="Layer_x0020_1">
                              <metadata id="CorelCorpID_0Corel-Layer"></metadata>
                              <path
                                class="fil0"
                                d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"
                              ></path>
                            </g>
                          </svg>
                        </div>
                        <div class="star-6">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            xml:space="preserve"
                            version="1.1"
                            style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
                            viewBox="0 0 784.11 815.53"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                          >
                            <defs></defs>
                            <g id="Layer_x0020_1">
                              <metadata id="CorelCorpID_0Corel-Layer"></metadata>
                              <path
                                class="fil0"
                                d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"
                              ></path>
                            </g>
                          </svg>
                        </div>
                      </button>
                      
                </div>
            </div>
        </div>
    </section>

    <script>
        function sendMessage() {
            const userMessage = document.getElementById("message-input").value;

            fetch("/chat/chatbot/", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "X-CSRFToken": getCookie('csrftoken')
                },
                body: JSON.stringify({ message: userMessage })
            })
                .then(response => response.json())
                .then(data => {
                    // Display data.response in your chatbot UI
                    console.log(data.response);
                });
        }

        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
    </script>
</body>

</html>